<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="theme-color" content="#333333">

  %sapper.base%

  <link rel="manifest" href="manifest.json" crossorigin="use-credentials">
  <link rel="icon" type="image/png" href="favicon.png">

  <meta name='twitter:card' content='summary_large_image'>
  <meta name='twitter:site' content='@cal-adapt'>
  <meta name='twitter:creator' content='@cal-adapt'>
  <meta name='twitter:image' content='https://cal-adapt.org/twitter-card.png'>
  <meta name='og:image' content='https://cal-adapt.org/twitter-card.png'>

  <!-- Sapper creates a <script> tag containing `src/client.js`
       and anything else it needs to hydrate the app and
       initialise the router -->
  %sapper.scripts%

  <!-- Sapper generates a <style> tag containing critical CSS
       for the current page. CSS for the rest of the app is
       lazily loaded when it precaches secondary pages -->
  %sapper.styles%

  <!-- This contains the contents of the <svelte:head> component, if
       the current page has one -->
  %sapper.head%
</head>
<body>
  <!-- The application will be rendered inside this element,
       because `src/client.js` references it -->
  <div id="root">%sapper.html%</div>
  <!-- <div class="scroll-indicator"><span></span></div> -->
  <script type="text/javascript">
    const scrollIndicator = document.querySelector('.scroll-indicator');
    const footer = document.querySelector('footer');
    function scrollToTop() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
    }
    function handler(entries, observer) {
      for (entry of entries) {
        if (entry.isIntersecting) {
          scrollIndicator.classList.add('up');
          scrollIndicator.removeEventListener('click', scrollToTop);
        } else {
          scrollIndicator.classList.remove('up');
          scrollIndicator.addEventListener('click', scrollToTop);
        }
      }
    }
    /* By default, invokes the handler whenever:
       1. Any part of the target enters the viewport
       2. The last part of the target leaves the viewport */
    //let observer = new IntersectionObserver(handler);
    //observer.observe(footer);

  </script>
</body>

</html>
